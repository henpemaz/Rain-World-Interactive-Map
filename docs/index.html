<!DOCTYPE html>
<html>
<head>
    <meta charset="ISO-8859-1">
    <title>Rain World Interactive Map</title>

    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/7621953?s=400&amp;v=4" />
    <meta property="og:site_name" content="GitHub" />
    <meta property="og:type" content="object" />
    <meta property="og:title" content="Rain World Interactive Map" />
    <meta property="og:url" content="https://henpemaz.github.io/Rain-World-Interactive-Map/index.html" />
    <meta property="og:description" content="A Rain World interactive map using leaflet and GeoJSON data exported from the game files. - henpemaz/Rain-World-Interactive-Map" />

    <link rel="stylesheet" href="./rw.css" />

    <style>
        /* big flex block of darkness */
        body, html {
            background-color: black;
            color: white;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }

        /* floaty in the center */
        #main-menu {
            margin: auto;
        }

        /* stuck to the bottom, custom link colors */
        #main-menu-footer {
            margin-bottom: 0.1em;
            text-align: center;
            font-family: 'Segoe UI';
            font-size: 0.8em;
            font-weight: 500;
            color: #A9A4B2; /* menu lightgray */
            background-color: black;
        }

            #main-menu-footer a:link {
                color: white;
            }

            #main-menu-footer a:visited {
                color: #A9A4B2; /* menu lightgray */
            }

        /* expando list, flex that needs wrap on really small displays */
        #regionlist-group {
            margin-left: auto;
            margin-right: auto;
            margin-top: 0.8em;
            margin-bottom: 0.8em;
            width: fit-content;
            max-width: 100vw;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
        }

            #regionlist-group > div {
                width: 200px;
                position: relative;
                /* re-center after wrap */
                margin-left: auto;
                margin-right: auto;
                padding: 4px;
                transition: width 0.4s;
            }

        button.region-button {
            position: relative;
            width: 200px;
            height: 40px;
            background: black;
            margin: 4px;
        }
        /* fancy ass animations for stuff poping in */
        #regionlist-modded {
            display: block;
            transition: opacity 0.2s, width 0.4s;
        }

            #regionlist-modded.rl-hidden {
                opacity: 0;
                width: 0;
            }

            #regionlist-modded > .rw-ui {
                transition: width 0.4s, margin 0.4s, padding 0.4s;
                white-space: nowrap;
            }

            #regionlist-modded.rl-hidden > .rw-ui {
                transition: width 0.4s, margin 0.4s, padding 0.4s;
                width: 0px;
                margin-left: 0;
                margin-right: 0;
                padding-left: 0;
                padding-right: 0;
            }

        #modded-ckb-group {
            margin-left: auto;
            margin-right: auto;
            width: fit-content;
        }

        #modded-ckb {
            position: relative;
            width: 36px;
            height: 36px;
        }

            #modded-ckb::before {
                content: "\2714";
                text-align: center;
                font-size: 1.6em;
                font-weight: 600;
                color: #A9A4B200;
                transition: padding 0.3s, border-color 0.3s, margin 0.3s, color 0.3s;
            }

            #modded-ckb:hover::before {
                color: #A9A4B288;
            }

            #modded-ckb:checked::before {
                color: #A9A4B2;
            }

            #modded-ckb:checked:hover::before {
                color: white;
            }

            #modded-ckb:active::before {
                color: white;
            }

            #modded-ckb + label {
                position: relative;
                left: 10px;
                top: -10px;
                color: #4B4653; /* darkgray */
                transition: color 0.3s;
            }

            #modded-ckb:hover + label {
                color: #A9A4B2;
            }

            #modded-ckb:checked + label {
                color: #A9A4B2;
            }

            #modded-ckb:checked:hover + label {
                color: white;
            }

            #modded-ckb:active + label {
                color: white;
            }
    </style>

</head>
<body>
    <form id="main-menu" action="map.html" method="get">
        <div class="rw-title">Rain World</div>
        <div class="rw-bigtext" style="text-align: center; margin-top:0.5em;">I'm lost in...</div>
        <div id="regionlist-group">
            <div id="regionlist-vanilla">
                <button class="region-button rw-ui rw-text" name="region" value="SU">OUTSKIRTS</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="HI">INDUSTRIAL COMPLEX</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="DS">DRAINAGE SYSTEM</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="CC">CHIMNEY CANOPY</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="GW">GARBAGE WASTES</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="SH">SHADED CITADEL</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="SL">SHORELINE</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="SI">SKY ISLANDS</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="LF">FARM ARRAYS</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="UW">THE EXTERIOR</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="SS">FIVE PEBBLES</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="SB">SUBTERRANEAN</button><br />
            </div>
            <div id="regionlist-modded" class="rl-hidden">
                <button class="region-button rw-ui rw-text" name="region" value="AB">ARID BARRENS</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="AR">AETHER RIDGE</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="BL">BADLANDS</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="CG">CONCEALED GARDEN</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="DW">DESERTED WASTELANDS</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="LP">FORGOTTEN BOILER</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="LW">LUSH MIRE</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="TM">THE MAST</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="UB">UNDERBELLY</button><br />
                <button class="region-button rw-ui rw-text" name="region" value="US">UNDERSEA</button><br />
            </div>
        </div>
        <div id="modded-ckb-group"><input type="checkbox" id="modded-ckb" name="modded" class="rw-ui" autocomplete="off" /><label for="modded-ckb" class="rw-text">Modded</label></div>
        <script>
            var updateVisibility = function () {
                let ckb = document.getElementById('modded-ckb');
                let moddedRegions = document.getElementById('regionlist-modded');
                if (ckb.checked) {
                    moddedRegions.classList.remove("rl-hidden");
                } else {
                    moddedRegions.classList.add("rl-hidden")
                }
            };
            document.addEventListener("DOMContentLoaded", updateVisibility);
            // fuck you, whatever restore mechanism is in play here
            window.onload = function () {
                updateVisibility();
                setTimeout(updateVisibility, 100); // "restoring" a closed tab fires through events and then later... overrides classlists ??
            };
            document.getElementById('modded-ckb').onchange = updateVisibility;
        </script>

    </form>
    <div id="main-menu-footer"><a href="https://github.com/henpemaz/">Henpemaz</a> 2021 | <a href="https://store.steampowered.com/app/312520/Rain_World/">Rain World</a> is property of <a href="https://twitter.com/VideocultMedia">Videocult</a></div>
</body>
</html>
